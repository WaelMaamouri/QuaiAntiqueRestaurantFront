on: push
name: ðŸš€ Deploy website on push
jobs:
  web-deploy:
    name: ðŸŽ‰ Deploy
    runs-on: ubuntu-latest
    steps:
    - name: ðŸšš Get latest code
      uses: actions/checkout@v4

    - name: ðŸ“‚ Sync files via SFTP
      uses: appleboy/scp-action@master
      with:
        host: ${{ secrets.SFTP_HOST }}
        username: ${{ secrets.SFTP_USERNAME }}
        password: ${{ secrets.SFTP_PASSWORD }}
        source: "."
        target: "/www/"
        rm: true
        strip_components: 1
        # Exclusions similaires Ã  ce que tu as dans FTP-Deploy
        exclude: |
          .git*
          node_modules/bootstrap/scss/
          node_modules/bootstrap/js/
          node_modules/bootstrap-icons/icons/
